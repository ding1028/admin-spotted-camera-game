{"version":3,"sources":["app.js","main-controller.js","navbar-controller.js","controllers/account/forget-password.js","controllers/account/login.js","controllers/account/restore-password.js","controllers/badges/badge-edit.js","controllers/badges/badge-list.js","controllers/badges/badge-new.js","controllers/common/insert-table-dialog-ctrl.js","controllers/common/modal-ctrl.js","controllers/games/game-list.js","controllers/games/game-view.js","controllers/main-controller.js","controllers/navbar-controller.js","controllers/players/player-list.js","controllers/players/player-view.js","controllers/profile/profile-edit.js","controllers/rounds/round-view.js","controllers/users/user-edit.js","controllers/users/user-new.js","controllers/users/users-list.js","directives/dynamic-html.js","filters/object-to-array.js","resources/badge.js","resources/game.js","resources/player.js","resources/round.js","resources/user-password.js","resources/user.js","services/auth.js","services/http-interceptor.js","services/identity.js","services/notifier.js"],"names":[],"mappings":"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","file":"../app.js","sourcesContent":["'use strict';\r\n\r\nangular.module('app', [\r\n  'ngResource',\r\n  'ngRoute',\r\n  'ngCookies',\r\n  'ui.bootstrap',\r\n  'ui.select',\r\n  'textAngular',\r\n  'mwl.confirm'\r\n])\r\n.config(function($routeProvider, $locationProvider, $httpProvider) {\r\n  $locationProvider.html5Mode(true);\r\n  $httpProvider.interceptors.push('HttpInterceptor');\r\n\r\n  $routeProvider\r\n    .when('/not-found', {\r\n      templateUrl: 'views/not-found.html',\r\n    })\r\n    .when('/', {\r\n      templateUrl: 'views/home.html',\r\n    })\r\n    .when('/terms', {\r\n      templateUrl: 'views/terms.html',\r\n      controller: 'TermOfServiceCtrl'\r\n    })\r\n\r\n    .when('/login', {\r\n      templateUrl: 'views/account/login.html',\r\n      controller: 'AccountLoginCtrl'\r\n    })\r\n    .when('/forget-password', {\r\n      templateUrl: 'views/account/forget-password.html',\r\n      controller: 'AccountForgetPasswordCtrl'\r\n    })\r\n    .when('/restore-password', {\r\n      templateUrl: 'views/account/restore-password.html',\r\n      controller: 'AccountRestorePasswordCtrl'\r\n    })\r\n    .when('/users', {\r\n      templateUrl: 'views/users/users-list.html',\r\n      controller: 'UsersListCtrl'\r\n    })\r\n    .when('/users/new', {\r\n      templateUrl: 'views/users/user-new.html',\r\n      controller: 'UserNewCtrl'\r\n    })\r\n    .when('/users/:_id/edit', {\r\n      templateUrl: 'views/users/user-edit.html',\r\n      controller: 'UserEditCtrl'\r\n    })\r\n    .when('/badges', {\r\n      templateUrl: 'views/badges/badges-list.html',\r\n      controller: 'BadgesListCtrl'\r\n    })\r\n    .when('/badges/new', {\r\n      templateUrl: 'views/badges/badge-new.html',\r\n      controller: 'BadgeNewCtrl'\r\n    })\r\n    .when('/badges/:_id/edit', {\r\n      templateUrl: 'views/badges/badge-edit.html',\r\n      controller: 'BadgeEditCtrl'\r\n    })    .when('/players', {\r\n      templateUrl: 'views/players/players-list.html',\r\n      controller: 'PlayersListCtrl'\r\n    })\r\n    .when('/players/:_id/view', {\r\n      templateUrl: 'views/players/player-view.html',\r\n      controller: 'PlayerViewCtrl'\r\n    })\r\n    .when('/games', {\r\n      templateUrl: 'views/games/games-list.html',\r\n      controller: 'GamesListCtrl'\r\n    })\r\n    .when('/games/:_id/view', {\r\n      templateUrl: 'views/games/game-view.html',\r\n      controller: 'GameViewCtrl'\r\n    })\r\n    .when('/rounds/:_id/view', {\r\n      templateUrl: 'views/rounds/round-view.html',\r\n      controller: 'RoundViewCtrl'\r\n    }) \r\n    .when('/profile', {\r\n      templateUrl: 'views/profile/profile-edit.html',\r\n      controller: 'ProfileEditCtrl'\r\n    })\r\n\r\n\r\n    .otherwise({\r\n      redirectTo: '/not-found'\r\n    });\r\n})\r\n.config(function($provide) {\r\n  $provide.decorator('taOptions', ['taRegisterTool', '$delegate','$uibModal',\r\n    function(taRegisterTool, taOptions, $uibModal) {\r\n\r\n    taRegisterTool('table', {\r\n      iconclass: 'fa fa-table',\r\n      tooltiptext: 'insert table',\r\n      action: function(deferred, restoreSelection) {\r\n        var self = this;\r\n        $uibModal\r\n          .open({\r\n            templateUrl: 'views/common/insert-table-dialog.html',\r\n            controller: 'InsertTableDialogCtrl',\r\n            resolve: {\r\n              result: function () {\r\n                return {};\r\n              }\r\n            },\r\n            size: 'sm'\r\n          })\r\n          .result\r\n          .then(function(result) {\r\n            if (!result || !result.rows || !result.cols) {\r\n              return;\r\n            }\r\n            deferred.promise\r\n              .then(function() {\r\n                restoreSelection();\r\n                var html = _createTable(result.cols, result.rows);\r\n                self.$editor().wrapSelection('insertHtml', html);\r\n              });\r\n            deferred.resolve();\r\n          });\r\n\r\n        return false;\r\n      }\r\n    });\r\n\r\n    taOptions.toolbar[1].push('table');\r\n    return taOptions;\r\n  }]);\r\n  \r\n\r\n  function _createTable(colCount, rowCount) {\r\n    var tds = '';\r\n    var colWidth = Math.round(100 / colCount);\r\n    for (var idxCol = 0; idxCol < colCount; idxCol++) {\r\n      tds= tds + '<td style=\"width: ' + colWidth + '%\"></td>';\r\n    }\r\n    var trs = '';\r\n    for (var idxRow = 0; idxRow < rowCount; idxRow++) {\r\n      trs = trs + '<tr>' + tds + '</tr>';\r\n    }\r\n\r\n    return '<table class=\"table table-bordered\">' + trs + '</table>';\r\n  }\r\n});\r\n\r\nangular.module('app').run(function($rootScope) {\r\n  $rootScope.ifCond = function(op, v1, v2) {\r\n    switch (op) {\r\n      case 'and':\r\n        return (v1 && v2);\r\n      case 'not-and':\r\n        return (!v1 && v2);\r\n      case 'and-not':\r\n        return (v1 && !v2);\r\n      case 'not-and-not':\r\n        return (!v1 && !v2);\r\n      case 'or':\r\n        return (v1 || v2);\r\n      case 'not-or':\r\n        return (!v1 || v2);\r\n      case 'or-not':\r\n        return (v1 || !v2);\r\n      case 'not-or-not':\r\n        return (!v1 || !v2);\r\n    }\r\n  };\r\n\r\n  $rootScope.math = function(v1, op, v2) {  // chen_debug\r\n    switch (op) {\r\n      case 'add':\r\n      case 'plus':\r\n        return v1 + v2;\r\n      case 'subtract':\r\n      case 'minus':\r\n        return v1 - v2;\r\n      case 'multiply':\r\n      case 'multiplied by':\r\n        return v1 * v2;\r\n      case 'divide':\r\n      case 'divided by':\r\n        return v1 / v2;\r\n      case 'modulus':\r\n      case 'modulo':\r\n        return v1 % v2;\r\n    }\r\n  };\r\n\r\n  $rootScope.case = function(op, v) {\r\n    var titleCase = str => {\r\n      return str.toLowerCase().replace(/\\b[a-z]/g, firstLetter => {return firstLetter.toUpperCase();});\r\n    }\r\n\r\n    v = v.toString();\r\n    switch(op) {\r\n      case 'lower':\r\n        return v.toLowerCase();\r\n      case 'upper':\r\n        return v.toUpperCase();\r\n      case 'title':\r\n        return titleCase(v);\r\n      default:\r\n        throw new Error('Invalid operator');\r\n    }\r\n  };\r\n\r\n  $rootScope.ifVariant = function(v, opt) {\r\n    return v === opt;\r\n  };\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').controller('MainCtrl', function ($scope, $location, Identity, $cookieStore) {\r\n  $scope.currentUser = Identity.getCurrentUser();\r\n\r\n  if (!Identity.isLoggedIn()) {\r\n    $location.path('/login');\r\n  }\r\n\r\n  if (Identity.isLoggedIn() && !$cookieStore.get('terms') && Identity.isUser()) {\r\n    $location.path('/terms');\r\n  }\r\n\r\n  if (Identity.isUser() && $location.path() === '/') {\r\n    $location.path('/projects');\r\n  }\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').controller('NavbarCtrl', function($scope, $location, Auth, Identity) {\r\n  $scope.currentUser = Identity.getCurrentUser();\r\n\r\n  $scope.isActive = function(route) {\r\n    var currentRoute = $location.path();\r\n    return _.startsWith(currentRoute, route);\r\n  };\r\n\r\n  $scope.logout = function() {\r\n    Auth.logout();\r\n    $location.path('/login');\r\n  };\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').controller('AccountForgetPasswordCtrl', function($scope, Auth, Notifier) {\r\n  $scope.send = function() {\r\n    $scope.isSaving = true;\r\n    Auth\r\n      .forgetPassword($scope.email)\r\n      .then(function() {\r\n        $scope.success = true;\r\n      })\r\n      .catch(function(err) {\r\n        Notifier.warning(err);\r\n      })\r\n      .finally(function() {\r\n        $scope.isSaving = false;\r\n      });\r\n  };\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').controller('AccountLoginCtrl',\r\n  function($scope, $location, $window, Notifier, Auth) {\r\n\r\n  $scope.user = {};\r\n\r\n  $scope.login = function() {\r\n    $scope.isRequesting = true;\r\n    Auth\r\n      .login({\r\n        email: $scope.user.email,\r\n        password: $scope.user.password\r\n      })\r\n      .then(function () {\r\n          $location.path('/');\r\n      })\r\n      .catch(function(err) {\r\n        Notifier.warning(err);\r\n      })\r\n      .finally(function() {\r\n        $scope.isRequesting = false;\r\n      });\r\n  };\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').controller('AccountRestorePasswordCtrl', function($scope, $location, Auth, Notifier) {\r\n  $scope.send = function() {\r\n    if ($scope.validatePasswords()) {\r\n      $scope.isSaving = true;\r\n      Auth\r\n        .restorePassword($location.search().token, $scope.newPassword)\r\n        .then(function() {\r\n          $scope.isPasswordRestored = true;\r\n        })\r\n        .catch(function(err) {\r\n          Notifier.warning(err);\r\n        })\r\n        .finally(function() {\r\n          $scope.isSaving = false;\r\n        });\r\n    }\r\n  };\r\n\r\n  $scope.validatePasswords = function() {\r\n    $scope.passwordsDontMatchError = ($scope.newPassword !== $scope.passwordConfirmation);\r\n    return !$scope.passwordsDontMatchError;\r\n  };\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').controller('BadgeEditCtrl',\r\n  function($scope, $routeParams, $location, Notifier, Badge) {\r\n\r\n  $scope.isLoading = true;\r\n  $scope.isSaving = false;\r\n\r\n  (function loadData() {\r\n    Badge\r\n      .get({\r\n        id: $routeParams._id\r\n      })\r\n      .$promise\r\n      .then(function(badge) {\r\n        $scope.badge = badge;\r\n        $scope.isLoading = false;\r\n      })\r\n      .catch(function(err) {\r\n        Notifier.error(err, 'Unable to load record');\r\n        $location.path('/badges');\r\n      });\r\n  })();\r\n\r\n  $scope.updateFormular = function() {\r\n    if($scope.badge){\r\n      var badge = $scope.badge;\r\n      if(badge.property && badge.relation && badge.value)\r\n      {\r\n        badge.formular = \"{ \\\"property\\\" : \\\"\" + badge.property + \"\\\", \\\"relation\\\" : \\\"\" + badge.relation + \"\\\", \\\"value\\\" : \" + badge.value + \"}\";\r\n      }\r\n    }\r\n  };\r\n  \r\n  $scope.saveBadge = function() {\r\n    $scope.isSaving = true;\r\n    $scope.badge\r\n      .$update()\r\n      .then(function() {\r\n        Notifier.info('Badge updated successfully');\r\n        $location.path('/badges');\r\n      })\r\n      .catch(function(err) {\r\n        Notifier.error(err, 'Unable to save record');\r\n      })\r\n      .finally(function() {\r\n        $scope.isSaving = false;\r\n      });\r\n  };\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').controller('BadgesListCtrl',\r\n  function($scope, $location, Notifier, Badge) {\r\n\r\n  $scope.isLoading = true;\r\n  $scope.loadData = function loadData() {\r\n    Badge\r\n      .query()\r\n      .$promise\r\n      .then(function(badges) {\r\n        $scope.badges = badges;\r\n        $scope.isLoading = false;\r\n      });\r\n  };\r\n  $scope.loadData();\r\n\r\n  $scope.editBadge = function(badge) {\r\n    $location.path('/badges/' + badge._id + '/edit');\r\n  };\r\n\r\n  $scope.removeBadge = function(badge){\r\n    $scope.isLoading = true;\r\n    badge\r\n      .$delete()\r\n      .then(function() {\r\n        Notifier.info('Project removed successfully');\r\n        $scope.loadData();\r\n      })\r\n      .catch(function(err) {\r\n        $scope.isLoading = false;\r\n        Notifier.error(err, 'Unable to remove project');\r\n      })\r\n  };\r\n\r\n});\r\n","'use strict';\r\nvar app = angular.module('app');\r\napp.controller('BadgeNewCtrl',\r\n  function($scope, $location, Notifier, Badge) {\r\n\r\n  $scope.badge = {};\r\n  $scope.isSaving = false;\r\n  $scope.integerval = /^\\d*$/;\r\n\r\n  $scope.updateFormular = function() {\r\n    if($scope.badge){\r\n      var badge = $scope.badge;\r\n      if(badge.property && badge.relation && badge.value)\r\n      {\r\n        badge.formular = \"{ \\\"property\\\" : \\\"\" + badge.property + \"\\\", \\\"relation\\\" : \\\"\" + badge.relation + \"\\\", \\\"value\\\" : \" + badge.value + \"}\";\r\n      }\r\n    }\r\n  };\r\n  \r\n  $scope.createBadge = function() {\r\n    $scope.isSaving = true;\r\n    var badge = new Badge($scope.badge);\r\n    badge\r\n      .$save()\r\n      .then(function() {\r\n        Notifier.info('New badge created successfully');\r\n        $location.path('/badges');\r\n      })\r\n      .catch(function(err) {\r\n        Notifier.error(err, 'Unable to save changes');\r\n      })\r\n      .finally(function() {\r\n        $scope.isSaving = false;\r\n      });\r\n  };\r\n  $scope.uploadImage = function() {\r\n\r\n  }\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').controller('TermOfServiceCtrl',\r\n  function ($scope, $location, $cookieStore) {\r\n    $scope.terms = $cookieStore.get('terms');\r\n    $scope.acceptTerms = function () {\r\n      $cookieStore.put('terms', true);\r\n      $location.path('/projects')\r\n    };\r\n  });\r\n","'use strict';\r\n\r\nangular.module('app').controller('ModalCtrl', function($scope, $uibModalInstance, items) {\r\n  $scope.items = items;\r\n\r\n  $scope.ok = function(val) {\r\n    $uibModalInstance.close(val);\r\n  };\r\n\r\n  $scope.cancel = function() {\r\n    $uibModalInstance.dismiss('cancel');\r\n  };\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').controller('GamesListCtrl',\r\n  function($scope, $location, Notifier, Game) {\r\n\r\n  $scope.isLoading = true;\r\n\r\n  (function loadData() {\r\n    Game\r\n      .query()\r\n      .$promise\r\n      .then(function(games) {\r\n        $scope.games = games;\r\n        $scope.isLoading = false;\r\n      });\r\n  })();\r\n\r\n  $scope.viewGame = function(game) {\r\n    $location.path('/games/' + game._id + '/view');\r\n  };\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').controller('GameViewCtrl',\r\n  function($scope, $routeParams, $location, Notifier, Game) {\r\n\r\n  $scope.isLoading = true;\r\n  $scope.isSaving = false;\r\n\r\n  (function loadData() {\r\n    Game\r\n      .get({\r\n        id: $routeParams._id\r\n      })\r\n      .$promise\r\n      .then(function(game) {\r\n        $scope.game = game;\r\n        $scope.isLoading = false;\r\n      })\r\n      .catch(function(err) {\r\n        Notifier.error(err, 'Unable to load record');\r\n        $location.path('/games');\r\n      });\r\n  })();\r\n\r\n  $scope.viewRound = function(round) {\r\n    $location.path('/rounds/' + round._id + '/view');\r\n  };\r\n\r\n});\r\n","","'use strict';\r\n\r\nangular.module('app').controller('NavbarCtrl', function($scope, $location, Auth, Identity) {\r\n  $scope.currentUser = Identity.getCurrentUser();\r\n\r\n  $scope.isActive = function(route) {\r\n    var currentRoute = $location.path();\r\n    return _.startsWith(currentRoute, route);\r\n  };\r\n\r\n  $scope.logout = function() {\r\n    Auth.logout();\r\n    $location.path('/login');\r\n  };\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').controller('PlayersListCtrl',\r\n  function($scope, $location, Notifier, Player) {\r\n\r\n  $scope.isLoading = true;\r\n\r\n  (function loadData() {\r\n    Player\r\n      .query()\r\n      .$promise\r\n      .then(function(players) {\r\n        $scope.players = players;\r\n        $scope.isLoading = false;\r\n      });\r\n  })();\r\n\r\n  $scope.viewPlayer = function(player) {\r\n    $location.path('/players/' + player._id + '/view');\r\n  };\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').controller('PlayerViewCtrl',\r\n  function($scope, $routeParams, $location, Notifier, Player) {\r\n\r\n  $scope.isLoading = true;\r\n  $scope.isSaving = false;\r\n\r\n  (function loadData() {\r\n    Player\r\n      .get({\r\n        id: $routeParams._id\r\n      })\r\n      .$promise\r\n      .then(function(player) {\r\n        $scope.player = player;\r\n        $scope.isLoading = false;\r\n      })\r\n      .catch(function(err) {\r\n        Notifier.error(err, 'Unable to load record');\r\n        $location.path('/players');\r\n      });\r\n  })();\r\n\r\n  $scope.viewGame = function(game) {\r\n    $location.path('/games/' + game._id + '/view');\r\n  };\r\n\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').controller('ProfileEditCtrl',\r\n  function($scope, $routeParams, $location, Notifier, User, UserPassword, Identity) {\r\n\r\n  $scope.isLoading = true;\r\n  $scope.isSaving = false;\r\n\r\n  (function loadData() {\r\n    $scope.currentUser = Identity.getCurrentUser();\r\n    User\r\n      .get({\r\n        id: $scope.currentUser._id\r\n      })\r\n      .$promise\r\n      .then(function(user) {\r\n        $scope.user = user;\r\n        $scope.isLoading = false;\r\n      })\r\n      .catch(function(err) {\r\n        Notifier.error(err, 'Current user ' + $scope.currentUser._id);\r\n        Notifier.error(err, 'Unable to load profile');\r\n        $location.path('/profile');\r\n      });\r\n  })();\r\n\r\n  \r\n\r\n  $scope.saveUser = function() {\r\n    $scope.isSaving = true;\r\n    $scope.user\r\n      .$update()\r\n      .then(function() {\r\n        Notifier.info('Profile updated successfully');\r\n        $location.path('/profile');\r\n      })\r\n      .catch(function(err) {\r\n        Notifier.error(err, 'Unable to save profile.');\r\n      })\r\n      .finally(function() {\r\n        $scope.isSaving = false;\r\n      });\r\n  };\r\n\r\n  $scope.savePassword = function() {\r\n    $scope.isPasswordSaving = true;\r\n    UserPassword\r\n      .update({\r\n        id: $scope.currentUser._id\r\n      }, $scope.user)\r\n      .$promise\r\n      .then(function() {\r\n        Notifier.info('Password updated successfully');\r\n        $location.path('/profile');\r\n      })\r\n      .catch(function(err) {\r\n        Notifier.error(err, 'Unable to save password');\r\n      })\r\n      .finally(function() {\r\n        $scope.isPasswordSaving = false;\r\n      });\r\n  }; \r\n});\r\n","'use strict';\r\n\r\nangular.module('app').controller('RoundViewCtrl',\r\n  function($scope, $routeParams, $location, Notifier, Round) {\r\n\r\n  $scope.isLoading = true;\r\n  $scope.isSaving = false;\r\n\r\n  (function loadData() {\r\n    Round\r\n      .get({\r\n        id: $routeParams._id\r\n      })\r\n      .$promise\r\n      .then(function(round) {\r\n        $scope.round = round;\r\n        $scope.isLoading = false;\r\n      })\r\n      .catch(function(err) {\r\n        Notifier.error(err, 'Unable to load record');\r\n        $location.path('/games');\r\n      });\r\n  })();\r\n\r\n  $scope.viewImage = function(round) {\r\n    $location.path('/rounds/' + round._id + '/image');\r\n  };\r\n\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').controller('UserEditCtrl',\r\n  function($scope, $routeParams, $location, Notifier, User) {\r\n\r\n  $scope.isLoading = true;\r\n  $scope.isSaving = false;\r\n\r\n  (function loadData() {\r\n    User\r\n      .get({\r\n        id: $routeParams._id\r\n      })\r\n      .$promise\r\n      .then(function(user) {\r\n        $scope.user = user;\r\n        $scope.isLoading = false;\r\n      })\r\n      .catch(function(err) {\r\n        Notifier.error(err, 'Unable to load record');\r\n        $location.path('/users');\r\n      });\r\n  })();\r\n\r\n  $scope.saveUser = function() {\r\n    $scope.isSaving = true;\r\n    $scope.user\r\n      .$update()\r\n      .then(function() {\r\n        Notifier.info('User updated successfully');\r\n        $location.path('/users');\r\n      })\r\n      .catch(function(err) {\r\n        Notifier.error(err, 'Unable to save record');\r\n      })\r\n      .finally(function() {\r\n        $scope.isSaving = false;\r\n      });\r\n  };\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').controller('UserNewCtrl',\r\n  function($scope, $location, Notifier, User) {\r\n\r\n  $scope.user = {};\r\n  $scope.isSaving = false;\r\n\r\n  $scope.createUser = function() {\r\n    $scope.isSaving = true;\r\n    var user = new User($scope.user);\r\n    user\r\n      .$save()\r\n      .then(function() {\r\n        Notifier.info('New user created successfully');\r\n        $location.path('/users');\r\n      })\r\n      .catch(function(err) {\r\n        Notifier.error(err, 'Unable to save changes');\r\n      })\r\n      .finally(function() {\r\n        $scope.isSaving = false;\r\n      });\r\n  };\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').controller('UsersListCtrl',\r\n  function($scope, $location, Notifier, User) {\r\n\r\n  $scope.isLoading = true;\r\n\r\n  (function loadData() {\r\n    User\r\n      .query()\r\n      .$promise\r\n      .then(function(users) {\r\n        $scope.users = users;\r\n        $scope.isLoading = false;\r\n      });\r\n  })();\r\n\r\n  $scope.editUser = function(user) {\r\n    $location.path('/users/' + user._id + '/edit');\r\n  };\r\n\r\n  $scope.setUserStatus = function(user, status) {\r\n    $scope.isSaving = true;\r\n    user.status = status;\r\n    user\r\n      .$update()\r\n      .then(function() {\r\n        Notifier.info('User updated successfully');\r\n      })\r\n      .catch(function(err) {\r\n        Notifier.error(err, 'Unable to save record');\r\n      })\r\n      .finally(function() {\r\n        $scope.isSaving = false;\r\n      });\r\n  };\r\n});\r\n","'use strict';\r\n\r\nangular.module('app')\r\n.directive('dynamicHtml', function($compile, $timeout) {\r\n  return {\r\n    restrict: 'E',\r\n    scope: {\r\n      template: '=',\r\n      variables: '=',\r\n      selectedVariable: '=',\r\n      onChange: '&'\r\n    },\r\n    link: function($scope, $element) {\r\n      $scope.datePickers = {};\r\n\r\n      $scope.onClick = function (variable, $event) {\r\n        var currentTarget = $event.currentTarget;\r\n\r\n        // accessing to projectEditor method.\r\n        // Second argument tells for highlighting from editor,\r\n        // but not from properties left-side block.\r\n\t      $scope.$parent.$parent.highlight(variable, true, currentTarget);\r\n      }\r\n\r\n      $timeout(function() {\r\n        $scope.$apply(function() {\r\n          var content = $compile($scope.template)($scope);\r\n          $element.append(content);\r\n        });\r\n      });\r\n    }\r\n  };\r\n})\r\n.directive(\"compareTo\", function() {\r\n    return {\r\n      require: \"ngModel\",\r\n      scope: {\r\n        otherModelValue: \"=compareTo\"\r\n      },\r\n      link: function(scope, element, attributes, ngModel) {\r\n\r\n        ngModel.$validators.compareTo = function(modelValue) {\r\n          return modelValue == scope.otherModelValue;\r\n        };\r\n\r\n        scope.$watch(\"otherModelValue\", function() {\r\n          ngModel.$validate();\r\n        });\r\n      }\r\n    };\r\n  })\r\n.directive('filesModel', function ($parse) {\r\n  return {\r\n    restrict: 'A',\r\n    link: function(scope, element, attrs){\r\n      var model = $parse(attrs.filesModel)\r\n        , modelSetter = model.assign\r\n      element.bind('change', function(){\r\n        scope.$apply(function(){\r\n          modelSetter(scope, element[0].files)\r\n        })\r\n      })\r\n    }\r\n  };\r\n})\r\n.directive('ngOffset', function($filter) {\r\n  return {\r\n    restrict: 'A',\r\n    link: function(scope, element, attrs) {\r\n      scope.$watch(attrs.ngOffset, function(newVal, oldVal, scope){\r\n        if (newVal !== undefined) {\r\n          var offsetDate = new Date(scope.$eval(element.attr('ng-model')));\r\n\r\n          offsetDate.setDate(offsetDate.getDate() + newVal);\r\n          element.text($filter('date')(offsetDate, 'MMMM d, yyyy'));\r\n        }\r\n      });\r\n      scope.$watch(attrs.ngModel, function(newVal, oldVal, scope){\r\n        if (newVal !== undefined) {\r\n          var offsetDate = new Date(newVal);\r\n          var offset = 0;\r\n          var is_offset_variable = element.attr('ng-date-offset-variable');\r\n          if (is_offset_variable == \"true\") {\r\n            var offset_variable = element.attr('ng-offset');\r\n            offset = scope.$eval(offset_variable);\r\n          } else {\r\n            offset = parseInt(element.attr('ng-offset'));\r\n            if (isNaN(offset)) offset = 0;\r\n          }\r\n          offsetDate.setDate(offsetDate.getDate() + offset);\r\n          element.text($filter('date')(offsetDate, 'MMMM d, yyyy'));\r\n        }\r\n      });\r\n    }\r\n  };\r\n})\r\n.directive('ngOffsetMonth', function($filter) {\r\n  return {\r\n    restrict: 'A',\r\n    link: function(scope, element, attrs) {\r\n      scope.$watch(attrs.ngOffsetMonth, function(newVal, oldVal, scope){\r\n        if (newVal !== undefined) {\r\n          var offsetDate = new Date(scope.$eval(element.attr('ng-model')));\r\n\r\n          offsetDate.setMonth(offsetDate.getMonth() + newVal);\r\n          element.text($filter('date')(offsetDate, 'MMMM d, yyyy'));\r\n        }\r\n      });\r\n      scope.$watch(attrs.ngModel, function(newVal, oldVal, scope){\r\n        if (newVal !== undefined) {\r\n          var offsetDate = new Date(newVal);\r\n          var offset = 0;\r\n          var is_offset_variable = element.attr('ng-date-offset-variable');\r\n          if (is_offset_variable == \"true\") {\r\n            var offset_variable = element.attr('ng-offset-month');\r\n            offset = scope.$eval(offset_variable);\r\n          } else {\r\n            offset = parseInt(element.attr('ng-offset-month'));\r\n            if (isNaN(offset)) offset = 0;\r\n          }\r\n          offsetDate.setMonth(offsetDate.getMonth() + offset);\r\n          element.text($filter('date')(offsetDate, 'MMMM d, yyyy'));\r\n        }\r\n      });\r\n    }\r\n  };\r\n})\r\n.directive('ngOffsetYear', function($filter) {\r\n  return {\r\n    restrict: 'A',\r\n    link: function(scope, element, attrs) {\r\n      scope.$watch(attrs.ngOffsetYear, function(newVal, oldVal, scope){\r\n        if (newVal !== undefined) {\r\n          var offsetDate = new Date(scope.$eval(element.attr('ng-model')));\r\n\r\n          offsetDate.setFullYear(offsetDate.getFullYear() + newVal);\r\n          element.text($filter('date')(offsetDate, 'MMMM d, yyyy'));\r\n        }\r\n      });\r\n      scope.$watch(attrs.ngModel, function(newVal, oldVal, scope){\r\n        if (newVal !== undefined) {\r\n          var offsetDate = new Date(newVal);\r\n          var offset = 0;\r\n          var is_offset_variable = element.attr('ng-date-offset-variable');\r\n          if (is_offset_variable == \"true\") {\r\n            var offset_variable = element.attr('ng-offset-year');\r\n            offset = scope.$eval(offset_variable);\r\n          } else {\r\n            offset = parseInt(element.attr('ng-offset-year'));\r\n            if (isNaN(offset)) offset = 0;\r\n          }\r\n          offsetDate.setFullYear(offsetDate.getFullYear() + offset);\r\n          element.text($filter('date')(offsetDate, 'MMMM d, yyyy'));\r\n        }\r\n      });\r\n    }\r\n  };\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').filter('objectToArray', function() {\r\n  return function(obj) {\r\n    return _.map(obj);\r\n  };\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').factory('Badge', function($resource) {\r\n  return $resource('/api/v1/badges/:id',\r\n    { id: '@_id' },\r\n    {\r\n      delete: {\r\n        method: 'DELETE'\r\n      },\r\n      update: {\r\n        method: 'PUT',\r\n        headers: {\r\n            'Content-Type': undefined\r\n        },\r\n        transformRequest: function(data) {\r\n          console.log(data);\r\n          if (data === undefined)\r\n            return data;\r\n\r\n          var fd = new FormData();\r\n          angular.forEach(data, function(value, key) {\r\n            if (value instanceof FileList) {\r\n              if (value.length == 1) {\r\n                fd.append(key, value[0]);\r\n\r\n              } else {\r\n                angular.forEach(value, function(file, index) {\r\n                  fd.append(key + '_' + index, file);\r\n                  });\r\n              }\r\n            } else {\r\n              fd.append(key, value);\r\n            }\r\n          });\r\n\r\n        return fd;\r\n        }\r\n      },\r\n      save: {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': undefined\r\n        },\r\n        transformRequest: function(data) {\r\n          console.log(data);\r\n          if (data === undefined)\r\n            return data;\r\n\r\n          var fd = new FormData();\r\n          angular.forEach(data, function(value, key) {\r\n            if (value instanceof FileList) {\r\n              if (value.length == 1) {\r\n                fd.append(key, value[0]);\r\n\r\n              } else {\r\n                angular.forEach(value, function(file, index) {\r\n                  fd.append(key + '_' + index, file);\r\n                  });\r\n              }\r\n            } else {\r\n              fd.append(key, value);\r\n            }\r\n          });\r\n\r\n        return fd;\r\n        }\r\n\r\n        \r\n      }    \r\n    });\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').factory('Game', function($resource) {\r\n  return $resource('/api/v1/games/:id',\r\n    { id: '@_id' },\r\n    {\r\n      update: {\r\n        method: 'PUT'\r\n      }\r\n    });\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').factory('Player', function($resource) {\r\n  return $resource('/api/v1/players/:id',\r\n    { id: '@_id' },\r\n    {\r\n      update: {\r\n        method: 'PUT'\r\n      }\r\n    });\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').factory('Round', function($resource) {\r\n  return $resource('/api/v1/rounds/:id',\r\n    { id: '@_id' },\r\n    {\r\n      update: {\r\n        method: 'PUT'\r\n      }\r\n    });\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').factory('UserPassword', function($resource) {\r\n  return $resource('/api/v1/userPassword/:id',\r\n    { id: '@_id' },\r\n    {\r\n      update: {\r\n        method: 'PUT',\r\n        params: {\r\n            id: \"@id\"\r\n        }\r\n      }\r\n    });\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').factory('User', function($resource) {\r\n  return $resource('/api/v1/users/:id',\r\n    { id: '@_id' },\r\n    {\r\n      update: {\r\n        method: 'PUT'\r\n      }\r\n    });\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').factory('Auth', function($location, $rootScope, $http, Identity) {\r\n  return {\r\n    login: function(user) {\r\n      return $http\r\n        .post('/api/v1/auth/login', {\r\n          email: user.email,\r\n          password: user.password\r\n        })\r\n        .then(function(res) {\r\n          Identity.setTokenAndUser(res.data);\r\n          Identity.setCurrentUser(res.data.user);\r\n          return Identity.getCurrentUser();\r\n        });\r\n    },\r\n\r\n    logout: function() {\r\n      Identity.setCurrentUser();\r\n      Identity.removeTokenAndUser();\r\n    },\r\n\r\n    forgetPassword: function(email) {\r\n      return $http.post('/api/v1/auth/forget-password', {\r\n        email: email\r\n      });\r\n    },\r\n\r\n    restorePassword: function(token, newPassword) {\r\n      return $http.post('/api/v1/auth/restore-password', {\r\n        token: token,\r\n        newPassword: newPassword\r\n      });\r\n    }\r\n  };\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').factory('HttpInterceptor', function($q, $location, Identity, Notifier) {\r\n  return {\r\n    responseError: function(rejection) {\r\n      var currentPath = $location.path();\r\n\r\n      if ((rejection.status === 401 || rejection.status === 403) && (currentPath.indexOf('/login') === -1)) {\r\n        Notifier.warning('You need to login in');\r\n        $location.path('/login').search({\r\n          redirect: currentPath\r\n        });\r\n      }\r\n\r\n      return $q.reject(rejection);\r\n    }\r\n  };\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').factory('Identity', function($cookieStore) {\r\n  var _currentUser;\r\n\r\n  return {\r\n    getCurrentUser: function() {\r\n      if (!_currentUser) {\r\n        _currentUser = this.getUser() || {};\r\n      }\r\n      return _currentUser;\r\n    },\r\n\r\n    setCurrentUser: function(user) {\r\n      _currentUser = user || {};\r\n    },\r\n\r\n    setTokenAndUser: function(data) {\r\n      $cookieStore.put('token', data.token);\r\n      $cookieStore.put('currentUser', data.user);\r\n    },\r\n\r\n    getToken: function() {\r\n      return $cookieStore.get('token');\r\n    },\r\n\r\n    getUser: function() {\r\n      return $cookieStore.get('currentUser');\r\n    },\r\n\r\n    removeTokenAndUser: function() {\r\n      $cookieStore.remove('token');\r\n      $cookieStore.remove('currentUser');\r\n    },\r\n\r\n    isLoggedIn: function() {\r\n      return !_.isEmpty(_currentUser);\r\n    },\r\n\r\n    isAdmin: function() {\r\n      return _.get(_currentUser, 'role') === 'admin';\r\n    },\r\n\r\n    isUser: function() {\r\n      return _.get(_currentUser, 'role') === 'user';\r\n    }\r\n  };\r\n});\r\n","'use strict';\r\n\r\nangular.module('app').value('Toastr', toastr);\r\n\r\nangular.module('app').factory('Notifier', function(Toastr) {\r\n  return {\r\n    success: function(msg) {\r\n      Toastr.success(msg);\r\n    },\r\n    info: function(msg) {\r\n      Toastr.info(msg);\r\n    },\r\n    warning: function(err, prefix) {\r\n      Toastr.warning(_getErrorMessage(err, prefix));\r\n    },\r\n    error: function(err, prefix) {\r\n      Toastr.error(_getErrorMessage(err, prefix));\r\n    },\r\n  };\r\n\r\n  function _getErrorMessage(err, prefix) {\r\n    var msg;\r\n    if (typeof err === 'string') {\r\n      msg = err;\r\n    } else if (err) {\r\n      msg = _.get(err, 'data.reason') || err.reason || err.message;\r\n    }\r\n    msg = msg || 'Unknown server error';\r\n\r\n    if (prefix) {\r\n      prefix = prefix + (_.endsWith(prefix, '.') ? ' ' : '. ');\r\n      if (msg) {\r\n        prefix += '<br/>';\r\n      }\r\n    } else {\r\n      prefix = '';\r\n    }\r\n\r\n    return prefix + msg;\r\n  }\r\n});\r\n"]}